# DataDays
Sharif DataDays

<div class="css-en-470cvk"><div class="RoboEpicsMarkdown_re-markdown-root__sPRz_ RoboEpicsMarkdown_re-markdown-light__N16Wl"><h1 dir="rtl" level="1">مقدمه</h1>
<p dir="rtl">در چالش امسال درنظر داریم، روی موضوعی کار کنیم که مورد استفاده شرکت‌های مختلف در صنایع مختلف قرار می‌گیرد.</p>
<p dir="rtl">سری زمانی مجموعه‌ای از نقاط قابل اندازه‌گیری در طول زمان با ترتیب توالی هست. یک سری زمانی، تمامی متغیرهای یک مجموعه‌ داده‌ای که در طی زمان تغییر می‌کند را نشان می‌دهد. میزان فروش یک کسب‌وکار در طول زمان، سابقه وضعیت آب و هوا، وضعیت زیرساخت و سرویس‌ها، تعداد بیماران مبتلا به کویید ۱۹، قیمت‌های سهام و مبادلات ارزی در طی زمان نمونه‌‌هایی از مفهوم سری زمانی هستند. زمان در این سری‌ها می‌تواند بسته به مساله از مقیاس‌های مختلف میلی‌ثانیه، ثانیه، دقیقه، ساعت، روز، هفته تا سال  باشد.   در تحلیل و مدل سازی سری‌های زمانی، مجموعه داده مورد استفاده ممکن است حاوی ناهنجاری‌هایی باشد. منظور از ناهنجاری نقاط داده‌ای پرت یا مشاهدات غیرعادی است که از الگوی موردانتظار داده‌ای پیروی نمی‌کنند.</p>
<h1 dir="rtl" level="1">تعریف چالش</h1>
<p dir="rtl">در سال های اخیر حجم داده تولید شده بیش از پیش شده و برای پردازش و نگهداری آن نیز تلاش بسیار زیادی صورت گرفته است. تحلیل داده‌ها معمولا به دو صورت دسته‌ای و جریانی انجام می‌شود. در پردازش جریان داده‌ای از مهم ترین مسائل، تشخیص ناهنجاری است. ناهنجاری به اتفاقی گفته می‌شودکه ما با توجه به دانش پیشین و داده های پیشین انتظار نداریم رخ بدهد و رخ دادن آن ممکن است نشان دهنده نکته مهمی در سیستم مورد بررسی باشد.</p>
<p dir="rtl">با پیشرفت در حوزه‌ی اینترنت اشیا خیلی از وسایل و تجهیزات دائما در حال تولید گزارش هستند که به صورت جریان داده‌ای ارسال می‌شود. تراکنش‌های مالی و سفارشات زیادی در هر ثانیه و ساعت در حال جابه‌جایی است. در هر یک از این سناریوها، تشخیص ناهنجاری اگر بر روی جریان داده‌ای باشد، می‌تواند جلوی بسیاری از خسارت‌ها را بگیرد. به عنوان مثال در مساله تشخیص کلاه‌برداری در داده‌های بانکی، مهم است که تشخیص و پردازش داده‌ها در لحظه یا با فاصله زمانی خیلی کم انجام شده و مشکل گزارش داده شود. تشخیص ناهنجاری در ترافیک شبکه یا مصرف پردازنده‌ی سرورها اگر در همان زمان انجام شود می‌تواند خرابی سرورها یا حمله امنیتی را به موقع اطلاع‌رسانی نماید.</p>
<p dir="rtl">با توجه به پیچیدگی تشخیص این رخداد ها، ‌استفاده از روش های آماری، یادگیری ماشین و یادگیری ژرف لازم است. به عنوان مثال افزایش مصرف پردازنده در یک سرور به تنهایی نشان دهنده نکته خاصی نیست و شاید ما در برخی مواقع حتی انتظار مصرف صد درصد را هم داشته باشیم به همین علت نمی‌توان با تنظیم یک آستانه ساده این اتفاق را تشخیص داد و نیازمند رابطه پیچیده تری برای تشخیص این اتفاق هستیم. از چالش هایی که در این حوزه موجود است می‌توان به موارد زیر اشاره کرد:</p>
<ul depth="0" dir="rtl">
<li>انواع مختلف داده موجب می‌شود که ما نیازمند الگوریتم های مختلف برای پردازش آن ها باشیم.</li>
<li>با توجه به این‌که، ناهنجاری یک رخداد نادر در سیستم محسوب می‌شود، داده برچسب دار در این حوزه کم هستند و به همین علت نمی‌توان از هر الگوریتم تشخیص ناهنجاری در تشخیص جریان داده‌ای استفاده کرد.</li>
</ul>
<p dir="rtl">هدف ما از این چالش این است که بر روی سری زمانی‌های مختلف بتوانیم ناهنجاری‌ها را تشخیص دهیم. در طی این مسابقه روند حل یک مسئله دنیای واقعی را طی می‌کنیم. برای حل این چالش باید گام‌های حل یک مسئله داده محور را از جمله تحقیق و پژوهش، پیش‌پردازش داده، داده‌کاوی، ارائه مدل و در نهایت عملیاتی سازی آن را طی نمایید. به بیان دیگر تیم شما مجموعه از توانمندی‌های داده‌کاوی، مهندسی داده و علوم داده را تجربه خواهد کرد. همچنین با چالش‌های دنیای واقعی مثل کمبود داده، برچسب نداشتن تمامی داده‌‌ها، نویز دار بودن داده و ... مواجه می‌شوید. انتظار می‌رود که موراد زیر در این چالش حل شود:</p>
<ul depth="0" dir="rtl">
<li>
<p dir="rtl">تشخیص با تغییر الگوی سری زمانی و نویز در داده‌ها: الگوی رفتاری یک سری زمانی ممکن است در طی زمان تغییر کند و به تبع آن مفهوم ناهنجاری نیز تغییر می‌کند. مدل باید بتواند با تغییر الگو رفتاری، ناهنجاری‌های الگوی جدید را پیدا کند. همچنین ممکن است در داده‌ها به خاطر خرابی سنسورهای جمع‌آوری داده نویز وجود داشته باشد که بتواند در عملکرد مدل خلل ایجاد نماید. مقابله با این چالش‌های دنیای واقعی از مزیت‌های مدل شما به حساب می‌آید.</p>
</li>
<li>
<p dir="rtl">استفاده از بازخورد برای بهبود دقت: در شرایطی که خبره‌ای قابلیت ثبت بازخورد برای کمک به مدل را دارد، مدل باید بتواند آن‌ها را یاد گرفته و در تشخیص‌های آتی خود دخیل نماید.</p>
</li>
</ul>
<p dir="rtl">درکارگاه‌ها با انواع ناهنجاری‌ها آشنا شدید.</p>
<h1 dir="rtl" level="1">اهمیت موضوع</h1>
<p dir="rtl">تشخیص ناهنجاری دارای مزایای زیر است:</p>
<ul depth="0" dir="rtl">
<li>
<p dir="rtl">کمک به کشف تقلب: تشخیص ناهنجاری می‌تواند به شناسایی رویدادهای غیرعادی و مشکوک در سری های زمانی کمک نماید. مدل های تشخیص ناهنجاری در بانک ها و سایر موسسات مالی برای کشف تقلب استفاده می شود. مدل تشخیص ناهنجاری، فعالیت ها و تراکنش های مشکوک را شناسایی می‌کند.</p>
</li>
<li>
<p dir="rtl">شناسایی نویز را در مجموعه داده: نویز شامل نقاط ناخواسته و اشتباه در داده است. داده های نویز دارای اطلاعات بی معنی هستند که ممکن است  تحلیل‌ها را دچار مشکل نمیاد. حذف نویز تضمین می کند که مجموعه داده با کیفیت بالایی داشته باشیم.</p>
</li>
<li>
<p dir="rtl">شناسایی خرابی‌ها و عیب‌ها: در داده‌های سری زمانی که عملکرد دستگاه‌ها و برنامه‌ها را ضبط می‌کند، شناسایی تغییرات غیرمنتظره مهم است. تغییرات غیرمنتظره ممکن است با خرابی یا عملکرد نادرست دستگاه همراه باشد.</p>
</li>
<li>
<p dir="rtl">شناسایی نفوذ به شبکه و تشخیص ناهنجاری شبکه : مدل هایی که بر ترافیک شبکه نظارت می کنند، تغییرات ناگهانی در ترافیک شبکه را تشخیص می دهند. این تغییرات ناگهانی ممکن است به دلیل حملات سایبری و سایر دسترسی های غیرمجاز باشد.</p>
</li>
</ul></div></div>


<ul depth="0" dir="rtl">
<div class="css-en-470cvk"><div class="RoboEpicsMarkdown_re-markdown-root__sPRz_ RoboEpicsMarkdown_re-markdown-light__N16Wl"><h1 dir="rtl" level="1">فازها و قوانین مسابقه</h1>
<h2 dir="rtl" level="2">فاز اول</h2>
<ul depth="0" dir="rtl">
<li>این فاز بر روی مجموعه داده دسته‌ای ارزیابی می‌شود</li>
<li>یک مجموعه داده کوچک برای اعتبارسنجی مدل به صورت آفلاین در اختیار شما قرار خواهد گرفت.</li>
<li>در هنگام آپلود جواب،‌ نتیجه را بر روی مجموعه داده‌ تست کوچک مشاهده می‌فرمایید. در صورتی که در بازه زمان برقراری مسابقه باشد، می‌تواند براساس نتایج به اصلاح مدل خود بپردازید.</li>
</ul>
<p dir="rtl">در صورت نیاز به داده‌های بیشتر، می‌تواند به پیدا کردن یا تولید داده بپردازید.</p>
<ul depth="0" dir="rtl">
<li>شما مجاز به استفاده از کتابخانه‌‌ها،‌کدهای متن باز و ایده‌های مقالات علمی با ذکر منبع آن‌ها هستید.</li>
<li>پس از پایان مهلت فاز اول، نتایج نهایی بر روی مجموعه داده تست بیشتر محاسبه و برندگان برای شرکت در فاز دوم اعلام می‌شوند.</li>
</ul>
<h1 dir="rtl" level="1">دادگان ورودی و فرمت خروجی فاز اول</h1>
<h2 dir="rtl" level="2">فرمت فایل ورودی</h2>
<p dir="rtl">ورودی مدل یک فایل csv شامل دو ستون time و value بوده که به ترتیب زمان و مقدار هر نقطه سری زمانی است.</p>
<table node="[object Object]" dir="ltr">
  <tbody><tr>
   <td dir="ltr"><p dir="rtl">
<strong class="w-full" dir="ltr">value</strong></p>
   </td>
   <td dir="ltr"><p dir="rtl">
<strong class="w-full" dir="ltr">time</strong></p>
   </td>
  </tr>
  <tr>
   <td dir="ltr"><p dir="rtl">
175.1379</p>
   </td>
   <td dir="ltr"><p dir="rtl">
1416733200</p>
   </td>
  </tr>
  <tr>
   <td dir="ltr"><p dir="rtl">
152.9619</p>
   </td>
   <td dir="ltr"><p dir="rtl">
1416736800</p>
   </td>
  </tr>
  <tr>
   <td dir="ltr"><p dir="rtl">
168.3651</p>
   </td>
   <td dir="ltr"><p dir="rtl">
1416740400</p>
   </td>
  </tr>
  <tr>
   <td dir="ltr"><p dir="rtl">
944.9727</p>
   </td>
   <td dir="ltr"><p dir="rtl">
1416747600</p>
   </td>
  </tr></tbody></table>
<h2 dir="rtl" level="2">استاندارد فایل خروجی</h2>
<p dir="rtl">یک فایل csv که شامل سه ستون time و value و tag بوده که به ترتیب زمان، مقدار هر نقطه سری زمانی و برچسب هنجار (صفر) یا ناهنجار (یک) است.</p>
<table node="[object Object]" dir="ltr">
  <tbody><tr>
   <td dir="ltr"><p dir="rtl">
<strong class="w-full" dir="ltr">tag   </strong></p>
   </td>
   <td dir="ltr"><p dir="rtl">
<strong class="w-full" dir="ltr">value</strong></p>
   </td>
   <td dir="ltr"><p dir="rtl">
<strong class="w-full" dir="ltr">time</strong></p>
   </td>
  </tr>
  <tr>
   <td dir="ltr"><p dir="rtl">
1</p>
   </td>
   <td dir="ltr"><p dir="rtl">
175.1379</p>
   </td>
   <td dir="ltr"><p dir="rtl">
1416733200</p>
   </td>
  </tr>
  <tr>
   <td dir="ltr"><p dir="rtl">
0</p>
   </td>
   <td dir="ltr"><p dir="rtl">
152.9619</p>
   </td>
   <td dir="ltr"><p dir="rtl">
1416736800</p>
   </td>
  </tr>
  <tr>
   <td dir="ltr"><p dir="rtl">
1</p>
   </td>
   <td dir="ltr"><p dir="rtl">
168.3651</p>
   </td>
   <td dir="ltr"><p dir="rtl">
1416740400</p>
   </td>
  </tr>
  <tr>
   <td dir="ltr"><p dir="rtl">
0</p>
   </td>
   <td dir="ltr"><p dir="rtl">
944.9727</p>
   </td>
   <td dir="ltr"><p dir="rtl">
1416747600</p>
   </td>
  </tr></tbody></table>
<h1 dir="rtl" level="1">نحوه ارزیابی فاز اول</h1>
<p dir="rtl">برای سنجش روش‌های پیشنهادی مجموعه‌ای از معیارهای زیر مورد استفاده قرار می‌گیرد.</p>
<h2 dir="rtl" level="2">دقت مدل</h2>
<p dir="rtl">برای تعیین دقت مدل از معیار های زیر استفاده می کنیم:</p>
<p dir="rtl">امتیاز F1: امتیاز F1 از ترکیب precision و recall بدست می آید که به ترتیب نشان می دهند چه میزان از ناهنجاری های تشخیص داده شده درست هستند و چه میزان از ناهنجاری های درست، تشخیص داده شده اند. امتیاز F1 به صورت زیر محاسبه می شود:</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>F</mi><mn>1</mn></msub><mo>=</mo><mfrac><mrow><mi>P</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>∗</mo><mi>R</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>l</mi></mrow><mrow><mi>P</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>+</mo><mi>R</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>l</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">F_1=\frac{Precision* Recall}{Precision+Recall}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span style="top: -2.55em; margin-left: -0.1389em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 2.1408em; vertical-align: -0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.3714em;"><span style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.13889em;">P</span><span class="mord mathnormal">rec</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mord mathnormal" style="margin-right: 0.00773em;">R</span><span class="mord mathnormal">ec</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right: 0.01968em;">ll</span></span></span><span style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.13889em;">P</span><span class="mord mathnormal">rec</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mord mathnormal" style="margin-right: 0.00773em;">R</span><span class="mord mathnormal">ec</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right: 0.01968em;">ll</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></div>
<p dir="rtl">امتیاز F1 برای بازه ها: برای بازه های ناهنجاری نیز precision و recall را محاسبه می کنیم. برای recall، برای هر بازه درست ناهنجاری مقداری از بازه را که به عنوان ناهنجاری تشخیص داده شده است را محاسبه و بین تمام بازه ها میانگین آن را محاسبه می کنیم:</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>R</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><msub><mi>l</mi><mrow><mi>i</mi><mi>n</mi><mi>i</mi><mi>t</mi></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mrow><mi mathvariant="normal">∣</mi><mi>A</mi><mi mathvariant="normal">∣</mi></mrow></mfrac><munder><mo>∑</mo><mrow><mi>a</mi><mo>∈</mo><mi>A</mi></mrow></munder><mfrac><mrow><mi mathvariant="normal">∣</mi><mi>a</mi><mo>∩</mo><mi>P</mi><mi mathvariant="normal">∣</mi></mrow><mrow><mi mathvariant="normal">∣</mi><mi>a</mi><mi mathvariant="normal">∣</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">Recall_{init} = \frac{1}{|A|} \sum_{a \in A} \frac{|a \cap P|}{|a|}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8444em; vertical-align: -0.15em;"></span><span class="mord mathnormal" style="margin-right: 0.00773em;">R</span><span class="mord mathnormal">ec</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right: 0.01968em;">l</span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: -0.0197em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ini</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 2.7487em; vertical-align: -1.3217em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.3214em;"><span style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord mathnormal">A</span><span class="mord">∣</span></span></span><span style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.05em;"><span style="top: -1.8557em; margin-left: 0em;"><span class="pstrut" style="height: 3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight">A</span></span></span></span><span style="top: -3.05em;"><span class="pstrut" style="height: 3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.3217em;"><span></span></span></span></span></span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.427em;"><span style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord mathnormal">a</span><span class="mord">∣</span></span></span><span style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mord mathnormal" style="margin-right: 0.13889em;">P</span><span class="mord">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></div>
<p dir="rtl">که A مجموعه تمام بازه های ناهنجاری درست و P خروجی مدل برای تمام نقاط ناهنجاری های بازه ای می باشد.
به طور مشابه precision برای بازه ها به صورت زیر تعریف می شود:</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><msub><mi>n</mi><mrow><mi>i</mi><mi>n</mi><mi>i</mi><mi>t</mi></mrow></msub><mo>=</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mi mathvariant="normal">∣</mi><mi>P</mi><mi mathvariant="normal">∣</mi></mrow></mfrac><munder><mo>∑</mo><mrow><mi>p</mi><mo>∈</mo><mi>P</mi></mrow></munder><mfrac><mrow><mi mathvariant="normal">∣</mi><mi>p</mi><mo>∩</mo><mi>A</mi><mi mathvariant="normal">∣</mi></mrow><mrow><mi mathvariant="normal">∣</mi><mi>p</mi><mi mathvariant="normal">∣</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">Precision_{init} = = \frac{1}{|P|} \sum_{p \in P} \frac{|p \cap A|}{|p|}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8333em; vertical-align: -0.15em;"></span><span class="mord mathnormal" style="margin-right: 0.13889em;">P</span><span class="mord mathnormal">rec</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ini</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">==</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 2.8574em; vertical-align: -1.4304em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.3214em;"><span style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord mathnormal" style="margin-right: 0.13889em;">P</span><span class="mord">∣</span></span></span><span style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.05em;"><span style="top: -1.8557em; margin-left: 0em;"><span class="pstrut" style="height: 3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right: 0.13889em;">P</span></span></span></span><span style="top: -3.05em;"><span class="pstrut" style="height: 3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.4304em;"><span></span></span></span></span></span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.427em;"><span style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord mathnormal">p</span><span class="mord">∣</span></span></span><span style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mord mathnormal">A</span><span class="mord">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></div>
<p dir="rtl">که P مجموعه تمام بازه های ناهنجاری تشخیص داده شده و A خروجی درست برای تمام نقاط ناهنجاری های بازه ای می باشد.
در نهایت امتیاز F1 برای بازه ها به صورت زیر بدست می آید:</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>F</mi><msub><mn>1</mn><mrow><mi>i</mi><mi>n</mi><mi>i</mi><mi>t</mi></mrow></msub><mo>=</mo><mfrac><mrow><mi>P</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><msub><mi>n</mi><mrow><mi>i</mi><mi>n</mi><mi>i</mi><mi>t</mi></mrow></msub><mo>∗</mo><mi>R</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><msub><mi>l</mi><mrow><mi>i</mi><mi>n</mi><mi>i</mi><mi>t</mi></mrow></msub></mrow><mrow><mi>P</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><msub><mi>n</mi><mrow><mi>i</mi><mi>n</mi><mi>i</mi><mi>t</mi></mrow></msub><mo>+</mo><mi>R</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><msub><mi>l</mi><mrow><mi>i</mi><mi>n</mi><mi>i</mi><mi>t</mi></mrow></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">F1_{init}=\frac{Precision_{init} * Recall_{init}}{Precision_{init}+Recall_{init}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8333em; vertical-align: -0.15em;"></span><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ini</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 2.2074em; vertical-align: -0.836em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.3714em;"><span style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.13889em;">P</span><span class="mord mathnormal">rec</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ini</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mord mathnormal" style="margin-right: 0.00773em;">R</span><span class="mord mathnormal">ec</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right: 0.01968em;">l</span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: -0.0197em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ini</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span></span></span><span style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.13889em;">P</span><span class="mord mathnormal">rec</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ini</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mord mathnormal" style="margin-right: 0.00773em;">R</span><span class="mord mathnormal">ec</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right: 0.01968em;">l</span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: -0.0197em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ini</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></div>
<p dir="rtl">در نهایت امتیاز نهایی مدل به صورت زیر محاسبه می شود:</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>M</mi><mo>=</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mo stretchy="false">(</mo><mi>F</mi><mn>1</mn><mo>+</mo><mi>F</mi><msub><mn>1</mn><mrow><mi>i</mi><mi>n</mi><mi>i</mi><mi>t</mi></mrow></msub><mo stretchy="false">)</mo><mo>+</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mo stretchy="false">(</mo><msub><mi>e</mi><mrow><mi>p</mi><mi>o</mi><mi>i</mi><mi>n</mi><mi>t</mi></mrow></msub><mo>−</mo><msub><mi>e</mi><mrow><mi>i</mi><mi>n</mi><mi>i</mi><mi>t</mi></mrow></msub><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>F</mi><mn>1</mn><mo>−</mo><mi>F</mi><msub><mn>1</mn><mrow><mi>i</mi><mi>n</mi><mi>i</mi><mi>t</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">M= \frac{1}{2}(F1+F1_{init})+\frac{1}{2}(e_{point}-e_{init})(F1-F1_{init})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.10903em;">M</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 2.0074em; vertical-align: -0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.3214em;"><span style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ini</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 2.0074em; vertical-align: -0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.3214em;"><span style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">in</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ini</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ini</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></div>
<p dir="rtl">که e_point مقدار ۱ در صورت وجود ناهنجاری نقطه ای در سری زمانی و مقدار ۰ در غیر این صورت می گیرد. e_int هم به طور مشابه نشان دهنده وجود ناهنجاری بازه ای در سری زمانی است.</p>
<p dir="rtl">دقت کنید امتیاز های بیان شده روی کل داده ها در کنار هم محاسبه می شوند. به طور مثال برای محاسبه precision برای تمام ناهنجاری های تشخیص داده شده برای مدل روی هم رفته برای همه دنباله ها درصد ناهنجاری های درست محاسبه می شود.</p>
<h2 dir="rtl" level="2">سرعت پاسخگویی</h2>
<p dir="rtl">یکی از فاکتورهای سنجش سرعت پاسخگویی در کنار دقت قابل قبول است.</p></div></div>
